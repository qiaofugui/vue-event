"use strict";(self["webpackChunkvue_event"]=self["webpackChunkvue_event"]||[]).push([[993],{993:function(e,r,s){s.r(r),s.d(r,{default:function(){return u}});var t=function(){var e=this,r=e._self._c;return r("div",[r("el-card",{staticClass:"box-card"},[r("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[r("h3",[e._v("基本资料")])]),r("div",{staticStyle:{width:"510px"}},[r("el-form",{ref:"userForm",staticClass:"demo-userForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"登录名称",prop:"name"}},[r("el-input",{attrs:{disabled:""},model:{value:e.userForm.name,callback:function(r){e.$set(e.userForm,"name",r)},expression:"userForm.name"}})],1),r("el-form-item",{attrs:{label:"用户昵称",prop:"nickname"}},[r("el-input",{attrs:{placeholder:e.$store.state.userInfo.nickname||"输入昵称"},model:{value:e.userForm.nickname,callback:function(r){e.$set(e.userForm,"nickname",r)},expression:"userForm.nickname"}})],1),r("el-form-item",{attrs:{label:"用户邮箱",prop:"email"}},[r("el-input",{attrs:{placeholder:e.$store.state.userInfo.email||"输入邮箱"},model:{value:e.userForm.email,callback:function(r){e.$set(e.userForm,"email",r)},expression:"userForm.email"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("userForm")}}},[e._v("提交修改")]),r("el-button",{on:{click:function(r){return e.resetForm("userForm")}}},[e._v("重置")])],1)],1)],1)])],1)},a=[],i=s(7877),o={name:"UserInfo",data(){return{userForm:{name:this.$store.state.userInfo.username,nickname:"",email:""},rules:{nickname:[{required:!0,message:"输入昵称",trigger:"blur"},{pattern:/^\S{1,10}$/,message:"昵称必须是1~10位非空字符",trigger:"blur"}],email:[{required:!0,message:"输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((async e=>{if(!e)return!1;{this.userForm.id=this.$store.state.userInfo.id;const{data:e}=await(0,i.cZ)(this.userForm);if(0!==e.code)return this.$message.error("更新用户信息失败");this.$message.success("更新用户信息成功"),this.$store.dispatch("getUserInfoActions"),this.userForm.nickname="",this.userForm.email="",console.log(e)}}))},resetForm(e){this.$refs[e].resetFields()}}},l=o,n=s(1001),m=(0,n.Z)(l,t,a,!1,null,"3295ae2f",null),u=m.exports}}]);
//# sourceMappingURL=993.6dea36fe.js.map