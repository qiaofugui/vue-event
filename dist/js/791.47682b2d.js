"use strict";(self["webpackChunkvue_event"]=self["webpackChunkvue_event"]||[]).push([[791],{791:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[e("h3",[t._v("更换头像")])]),e("div",[t.avatar?e("img",{staticClass:"the_img preview",attrs:{src:t.avatar,alt:""},on:{click:t.chooseImg}}):e("img",{staticClass:"the_img preview",attrs:{src:a(9389),alt:""},on:{click:t.chooseImg}}),e("div",{staticClass:"btn-box"},[e("input",{ref:"iptRef",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:t.onFileChange}}),e("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.chooseImg}},[t._v("选择图片")]),e("el-button",{attrs:{type:"success",icon:"el-icon-upload",disabled:""===t.avatar},on:{click:t.uploading}},[t._v("上传头像")])],1)])])],1)},i=[],c=a(7877),o={name:"UserAvatar",data(){return{avatar:""}},methods:{chooseImg(){this.$refs.iptRef.click()},onFileChange(t){const e=t.target.files;if(0===e.length)this.avatar="";else{const t=new FileReader;t.readAsDataURL(e[0]),t.onload=t=>{this.avatar=t.target.result},console.log(e[0])}},async uploading(){const{data:t}=await(0,c.fo)(this.avatar);if(console.log(t),0!==t.code)return this.$message.error(t.message);this.$message.success(t.message),this.$store.dispatch("getUserInfoActions")}}},r=o,n=a(1001),l=(0,n.Z)(r,s,i,!1,null,"b056f56c",null),u=l.exports},9389:function(t,e,a){t.exports=a.p+"img/avatar.b216c21d.jpg"}}]);
//# sourceMappingURL=791.47682b2d.js.map